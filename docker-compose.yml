# docker-compose.yml
version: '3.8'

services:
  web:
    build: .
    ports:
      # --- ¡CAMBIO AQUÍ! ---
      - "0.0.0.0:8080:8080"
    volumes:
      - reminders-db-data:/app/data
      # --- ¡AÑADE ESTA LÍNEA! ---
      - /var/run/docker.sock:/var/run/docker.sock
      - /home/xrdpuser/.ssh:/root/.ssh:ro
    environment:
      - FLASK_ENV=production
      - DATABASE_PATH=/app/data/reminders.db
      
      # --- Variables de Telegram ---
      # (Asegúrate de que estén rellenas)
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
      - TELEGRAM_CHAT_ID=${TELEGRAM_CHAT_ID}
      - GEMINI_API_KEY=${GEMINI_API_KEY}

volumes:
  reminders-db-data:





